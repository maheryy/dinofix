{% extends 'fixer/fixer.html.twig' %}
{% from 'macros/utils.html.twig' import stars %}

{% block body %}
	<main class="main-container customer-container">
		<div class="home-container">
			<section class="top-content section-box">
				<a href="{{ path('fixer_services_create') }}" class="btn btn-primary">Cr√©er un nouveau service</a>
				<a href="{{ path('fixer_active') }}" class="btn btn-primary">Mes prestations</a>
			</section>
			<section class="top-content section-box">
				<h2>Mes services</h2>
				<ul class="fixer-service-list">
					{% for service in fixer_services %}
						<li class="service-card">
							<h4 class="service-name">{{ service.name }}</h4>
							<span class="service-price">{{ service.description|length > 50 ? service.description|slice(0, 80) ~ '...' : service.description }}</span>
							<div class="rating-row">
								<span class="stars">{{ stars(service.rating) }}</span>
								<span class="review-total">({{ service.reviews }})</span>
							</div>
							<a href="{{ path('fixer_services_edit', {'id': service.id}) }}" class="btn btn-primary">Modifier</a>
						</li>
					{% endfor %}
				</ul>
			</section>
		</div>
	</main>
{% endblock %}
